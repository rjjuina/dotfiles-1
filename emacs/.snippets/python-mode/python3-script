# key: pyscript
# name: python3 script
# --
#!/usr/bin/python
#
import logging
import argparse
import os

logger = logging.getLogger(__name__)

log_levels_dict = {
    "critical": logging.CRITICAL,
    "error": logging.ERROR,
    "warn": logging.WARNING,
    "warning": logging.WARNING,
    "info": logging.INFO,
    "debug": logging.DEBUG,
}

def main(directory):
    pass

if __name__ == "__main__":

    parser = argparse.ArgumentParser(description="Process some integers.")

    parser.add_argument(
        "-l",
        "--logLevel",
        default="warning",
        choices=list(log_levels_dict.keys()),
        help="this is the log level of the script",
    )
    args = parser.parse_args()
    print(args.logLevel)

    current_level_level = log_levels_dict.get(args.logLevel.lower())
    if current_level_level is None:
        raise ValueError(
            f"log level given: {args.logLevel}"
            f" -- must be one of: {' | '.join(log_levels_dict.keys())}"
        )

    logging.basicConfig(
        format="%(asctime)s,%(msecs)d %(levelname)-8s [%(filename)s:%(lineno)d] %(message)s",
        datefmt="%Y-%m-%d:%H:%M:%S",
        level=current_level_level,
    )

    main()